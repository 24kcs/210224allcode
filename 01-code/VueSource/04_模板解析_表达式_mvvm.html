<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>04_模板解析_表达式_vue</title>
  <script src="./js/mvvm.js"></script>
  <script src="./js/compile.js"></script>
  <script src="./js/observer.js"></script>
  <script src="./js/watcher.js"></script>
</head>
<body>
  <!--容器,里面的其他内容称为:模版-->
  <!--模版解析:id为app的div里面的内容进行编译操作（最终效果进行展示）-->
<div id="app">
  <p>{{ msg }}</p>
</div>
<script type="text/javascript">
  const vm = new MVVM({
    el:'#app',
    data:{
      msg:'哈哈,我又变帅了', // 属性
    }
  })

// val--->vm
// key--->msg
//   val[key]---->vm[key]---->vm['msg']--->vm.msg---自动的进入到该属性的get方法中
//   vm.msg='真香'---自动的进入到set方法

  /*
    面试题:谈谈你对模版解析的理解(插值语法)
    在Vue实例的时候,内部会创建模版解析对象,用来进行模版解析的操作,首先把选择器和当前的vm实例对象传入到解析对象中,内部会先创建文档碎片对象(虚拟DOM),根据选择器获取对应的html容器(id为app的div),把该容器中的所有的节点全部的放在文档碎片对象中,内部遍历文档碎片对象中所有的节点,判断该节点是不是标签,是不是文本,如果不是标签,也不是文本(不符合插值正则),再判断该节点是不是有子节点,那么就进行递归操作,直到该节点是标签或者该节点是文本节点并且是和插值正则表达式匹配的
    如果是标签,暂且不说
    如果是文本节点,并且和插值的正则匹配,此时通过正则表达式提取组方式获取插值语法中的表达式msg,然后内部调用bind方法进行解析，并且获取updater对象中相关的方法,还要根据vm和表达式msg获取该属性msg的值,然后调用updater对象中相关的方法进行插值文本的语法的替换,这些操作都是在内存中的虚拟DOM中进行的,结束后,会重新的把文档碎片对象加入到id为app的div容器中,至此,插值语法的解析操作结束

    创建vm对象---->内部---->创建Compile编译对象(解析对象)---->创建文档碎片对象(虚拟DOM)---->内存中---->进行插值语法的文本替换---->div容器--->结束

    创建编译的时候内部创建虚拟DOM(文档碎片对象),div中所有的子节点全都在文档碎片对象中,解析是在内存中进行的







  
  
  
  */

  



  /*
  复习正则
  元字符
    .  除了\n以外任意的单个字符     '啊abc123%^^'   
    [] 表示的是范围  [0-9] 0到9之间任意的一个数字(0/9) 
    [3-7]  表示的是3到7之间任意的一个数字(包含)
    [a-z] 所有小写字母中的任意一个
    [A-Z] 所有大写字母中的任意一个
    [a-zA-Z] 所有字母中的一个
    [0-9a-zA-Z] 所有字母和数字中的任意一个
    [.] 
    |  或者
    ()  分组/提升优先级
    \d 数字
    \D 非数字
    \s 空白符
    \S 非空白符
    \w 非特殊符号
    \W 特殊符号

    ^   以什么开头,  取反
    $   以什么结尾

    ^[0-9] 以数字开头
    [^0] 非0----取反的意思

    \b  单词边界

    限定符
    {} 前面的表达式出现的次数
    {0,} 前面的表达式出现了0次到多次    [0-9]{0,}    相当于   *
    {0,1} 前面的表达式出现了0次到1次    相当于  ? 
    {1,}  前面的表达式最少出现1次   相当于 +
    {1,10} 前面的表达式出现了1次到10次
    {,10}---- 错误写法

    *  前面的表达式出现了0次到多次
    +  前面表达式出现了1次到多次
    ?   前面表达式出现了0次到1次    阻止贪婪模式
    111.11.1.1111  \d+.?

    1. 找规律
    2. 不要追求完美
    // 例子:
    邮编的正则:  \d{6}3
    手机号码: \d{11}   [1]\d{10}
    座机: \d{3,4}[-]\d{7,8}  
    邮箱正则表达式:
    shuaiyang99_ff-fdf.fdf@qq123.com.cn
    /[a-zA-Z0-9_.-]+[@][a-zA-Z0-9_.-]+([.][a-zA-Z]+){1,2}/


    手机号码的正则
    130 131 132 133 134 135 136 137 138 139
    143  144 147
    150 151 152 153 154 155 156 157 158 159
    166
    170 171 173 177 178 
    180 181 182 183 184 185 186 187 188 189
    192 199 
    (1[358][0-9]{9})|(1[4][347][0-9]{8})|(1[6]{2}[0-9]{8})|(1[7][01378][0-9]{8})|(1[9][29][0-9]{8})

  
    (1)(2(3))(4)(5(6))

    ()((()))(())
  
  
  */



  // var obj ={
  //   'name':'小明',
  //   sayHi:function(){}
  // }
  // console.log(obj.name)
  // console.log(obj['na'+'me'])
  // obj.sayHi()
  // obj['say'+'Hi']()
 
</script>
</body>
</html>